!function(){"use strict";class e{constructor(e){let{name:t,link:s,userId:r,_id:n,ownerId:i,isLiked:o,handleImageButton:a,handleDeleteButton:l,handleLikeButton:d,cardSelector:c}=e;this._title=t,this._link=s,this._userId=r,this._cardId=n,this._ownerId=i,this._isLiked=o,this._handleImageButton=a,this._handleDeleteButton=l,this._handleLikeButton=d,this._cardSelector=c}_setEventListeners(){this._cardLikeButton.addEventListener("click",(()=>{this._handleLikeButton(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageButton({name:this._name,link:this._link})})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>this._handleDeleteButton(this)))}_renderLikes(){this._isLiked?this._cardLikeButton.classList.add("card__like-button_active"):this._cardLikeButton.classList.remove("card__like-button_active")}_getCardTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getCardTemplate(),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitleElement=this._cardElement.querySelector(".card__title"),this._cardLikeButton=this._cardElement.querySelector(".card__like-button"),this._cardDeleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImageElement.src=this._link,this._cardImageElement.alt=this._title,this._cardTitleElement.textContent=this._title,this._setEventListeners(),this._renderLikes(),this._cardElement}}class t{constructor(e,t){this._settings=e,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t,this._inputElements=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(e){e.classList.add(this._inputErrorClass),this._errorMessageElement.textContent=e.validationMessage,this._errorMessageElement.classList.add(this._errorClass)}_hideInputError(e){e.classList.remove(this._inputErrorClass),this._errorMessageElement.textContent="",this._errorMessageElement.classList.remove(this._errorClass)}_checkInputValidity(e){this._errorMessageElement=this._form.querySelector(`#${e.id}-error`),e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}hideModalInputError(){this._inputElements.forEach((e=>{e.classList.remove(this._inputErrorClass),this._form.querySelector(`#${e.id}-error`).classList.remove(this._errorClass)}))}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}resetButtonState(){this._toggleButtonState()}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const s={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},r=(document.querySelector("#card-template").content.querySelector(".card"),document.querySelector("#edit-profile-form")),n=document.querySelector("#add-card-form"),i=(document.querySelector(".content__list"),document.querySelector("#edit-profile-button")),o=(document.querySelector("#close-profile-button"),document.querySelector("#add-card-button")),a=(n.querySelector("#create-card-button"),document.querySelector("#close-add-card-button"),document.querySelector("#close-preview-button"),document.querySelector(".profile__name")),l=document.querySelector(".profile__description");document.querySelector("#preview-image-caption"),document.querySelector("#modal-preview-image"),document.querySelector("#profile-name-input"),document.querySelector("#profile-description-input"),document.querySelector("#card-title-input"),document.querySelector("#card-link-input");class d{constructor(e){let{selector:t}=e;this._popupElement=document.querySelector(t),this._popupCloseButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close"))&&this.close()}))}}class c extends d{constructor(e,t){super({selector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupForm.querySelectorAll(".modal__input"),this._handleFormSubmit=t}close(){super.close(),this._popupForm.reset()}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()}))}}const{apiToken:u,apiUrl:h}={apiToken:"3b347dc1-19a4-4ce6-85c4-b495fb569c9b",apiUrl:"https://around-api.en.tripleten-services.com/v1"},_=(new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_handleResponse(e){if(e.ok)return e.json();Promise.reject(`Error: ${e.status}`)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleResponse)}updateProfileInfo(e){let{name:t,description:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then(this._handleResponse)}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._handleResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleResponse)}postCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._handleResponse)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}({baseUrl:h,headers:{authorization:u,"Content-Type":"application/json"}}),new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._selector=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._selector.prepend(e)}}({items:[{createdAt:"2023-07-05T08:10:57.741Z",isLiked:!1,link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",name:"Yosemite Valley",owner:{about:"Sailor, researcher",avatar:"https://practicum-content.s3.us-west-1.amazonaws.com/frontend-developer/common/avatar.jpg",name:"Jacques Cousteau",_id:"e20537ed11237f86bbb20ccb"},_id:"5d1f0611d321eb4bdcd707dd"},{createdAt:"2023-07-05T08:11:58.324Z",isLiked:!1,link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",name:"Lake Louise",owner:{about:"Sailor, researcher",avatar:"https://practicum-content.s3.us-west-1.amazonaws.com/frontend-developer/common/avatar.jpg",name:"Jacques Cousteau",_id:"e20537ed11237f86bbb20ccb"},_id:"5d1f064ed321eb4bdcd707de"}],renderer:e=>{_.addItem(f(e))}},".content__list"));_.renderItems();const m=new t(s,r),p=new t(s,n);m.enableValidation(),p.enableValidation(),p.resetButtonState();const E=new class{constructor(e,t,s){this._nameElement=e,this._descriptionElement=t,this._avatarElement=s}getUserInfo(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent}}setUserInfo(e,t){this._nameElement.textContent=e,this._descriptionElement.textContent=t}setAvatar(e){this._avatarElement.src=e,this._avatarElement.alt=this._nameElement.textContent}}(a,l),v=new c("#edit-profile-modal",(e=>{E.setUserInfo(e.name,e.description)})),b=new c("#add-card-modal",(e=>{const t=e.title,s=e.link;_.addItem(f({title:t,link:s}))})),S=new class extends d{constructor(e){super({selector:e}),this._previewImage=this._popupElement.querySelector(".modal__preview-image"),this._previewCaption=this._popupElement.querySelector(".modal__caption")}open(e){super.open(),this._previewImage.src=e.link,this._previewImage.alt=e.title,this._previewCaption.textContent=e.title}}("#preview-image-modal");function f(t){return new e(t,"#card-template",(()=>{S.open(t)})).getView()}v.setEventListeners(),i.addEventListener("click",(function(){v.open(),v.setInputValues(E.getUserInfo()),m.hideModalInputError(),m.resetButtonState()})),b.setEventListeners(),o.addEventListener("click",(function(){p.resetButtonState(),p.hideModalInputError(),b.open()})),S.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjakUsY0FBYyxrQkFDMUQsQ0FFQW1FLElBQUFBLENBQUtpQixHQUNITixNQUFNWCxPQUNOcEYsS0FBS3VLLGNBQWN6SSxJQUFNdUUsRUFBSzlHLEtBQzlCUyxLQUFLdUssY0FBY3hJLElBQU1zRSxFQUFLZ0UsTUFDOUJySyxLQUFLd0ssZ0JBQWdCeEksWUFBY3FFLEVBQUtnRSxLQUMxQyxHUDBDK0Isd0JHOEZqQyxTQUFTWixFQUFXRCxHQUlsQixPQUhhLElBQUlySyxFQUFLcUssRUgxREksa0JHMERvQixLQUM1Q2MsRUFBa0JsRixLQUFLb0UsRUFBUyxJQUV0QjlILFNBQ2QsQ0FiQXdJLEVBQXFCeEUsb0JBQ3JCZCxFQUFrQi9ELGlCQUFpQixTQWhCbkMsV0FDRXFKLEVBQXFCOUUsT0FDckI4RSxFQUFxQjlELGVBQWV3RCxFQUFTcEMsZUFDN0NrQyxFQUF5QjVGLHNCQUN6QjRGLEVBQXlCdEYsa0JBQzNCLElBWUFnRyxFQUFpQjFFLG9CQUNqQmIsRUFBY2hFLGlCQUFpQixTQVgvQixXQUNFOEksRUFBcUJ2RixtQkFDckJ1RixFQUFxQjdGLHNCQUNyQnNHLEVBQWlCaEYsTUFDbkIsSUFRQWtGLEVBQWtCNUUsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lLFxuICAgIGxpbmssXG4gICAgdXNlcklkLFxuICAgIF9pZCxcbiAgICBvd25lcklkLFxuICAgIGlzTGlrZWQsXG4gICAgaGFuZGxlSW1hZ2VCdXR0b24sXG4gICAgaGFuZGxlRGVsZXRlQnV0dG9uLFxuICAgIGhhbmRsZUxpa2VCdXR0b24sXG4gICAgY2FyZFNlbGVjdG9yLFxuICB9KSB7XG4gICAgdGhpcy5fdGl0bGUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9jYXJkSWQgPSBfaWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IG93bmVySWQ7XG4gICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VCdXR0b24gPSBoYW5kbGVJbWFnZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XG4gICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbiA9IGhhbmRsZUxpa2VCdXR0b247XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKHRoaXMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUJ1dHRvbih7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKHRoaXMpKTtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2FyZFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICAvLyBnZXQgdGhlIGNhcmQgdmlld1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPVxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkRGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XG4gICAgLy8gc2V0IGV2ZW50IGxpc3RlbmVyc1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgICAvLyByZXR1cm4gY2FyZFxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgKTtcbiAgfVxuXG4gIGhpZGVNb2RhbElucHV0RXJyb3IoKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICB0aGlzLl9mb3JtXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYClcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgfSk7XG4gIH1cblxuICBfZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRCdXR0b25TdGF0ZSgpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIGNyZWF0ZWRBdDogXCIyMDIzLTA3LTA1VDA4OjEwOjU3Ljc0MVpcIixcbiAgICBpc0xpa2VkOiBmYWxzZSxcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBvd25lcjoge1xuICAgICAgYWJvdXQ6IFwiU2FpbG9yLCByZXNlYXJjaGVyXCIsXG4gICAgICBhdmF0YXI6XG4gICAgICAgIFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9mcm9udGVuZC1kZXZlbG9wZXIvY29tbW9uL2F2YXRhci5qcGdcIixcbiAgICAgIG5hbWU6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxuICAgICAgX2lkOiBcImUyMDUzN2VkMTEyMzdmODZiYmIyMGNjYlwiLFxuICAgIH0sXG4gICAgX2lkOiBcIjVkMWYwNjExZDMyMWViNGJkY2Q3MDdkZFwiLFxuICB9LFxuICB7XG4gICAgY3JlYXRlZEF0OiBcIjIwMjMtMDctMDVUMDg6MTE6NTguMzI0WlwiLFxuICAgIGlzTGlrZWQ6IGZhbHNlLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgb3duZXI6IHtcbiAgICAgIGFib3V0OiBcIlNhaWxvciwgcmVzZWFyY2hlclwiLFxuICAgICAgYXZhdGFyOlxuICAgICAgICBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vZnJvbnRlbmQtZGV2ZWxvcGVyL2NvbW1vbi9hdmF0YXIuanBnXCIsXG4gICAgICBuYW1lOiBcIkphY3F1ZXMgQ291c3RlYXVcIixcbiAgICAgIF9pZDogXCJlMjA1MzdlZDExMjM3Zjg2YmJiMjBjY2JcIixcbiAgICB9LFxuICAgIF9pZDogXCI1ZDFmMDY0ZWQzMjFlYjRiZGNkNzA3ZGVcIixcbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBhcGlJbmZvID0ge1xuICBhcGlUb2tlbjogXCIzYjM0N2RjMS0xOWE0LTRjZTYtODVjNC1iNDk1ZmI1NjljOWJcIixcbiAgYXBpVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG59O1xuXG4vLyBFbGVtZW50c1xuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuXG4vLyBGb3Jtc1xuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLWZvcm1cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIik7XG5cbi8vIFdyYXBwZXJzXG5leHBvcnQgY29uc3QgY2FyZExpc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19saXN0XCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIjtcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBcIiNhZGQtY2FyZC1tb2RhbFwiO1xuZXhwb3J0IGNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gXCIjcHJldmlldy1pbWFnZS1tb2RhbFwiO1xuXG4vLyBCdXR0b25zXG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1idXR0b25cIik7XG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2Nsb3NlLXByb2ZpbGUtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRTdWJtaXRCdXR0b24gPSBhZGRDYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFxuICBcIiNjcmVhdGUtY2FyZC1idXR0b25cIlxuKTtcbmV4cG9ydCBjb25zdCBhZGRDYXJkQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNjbG9zZS1hZGQtY2FyZC1idXR0b25cIlxuKTtcbmV4cG9ydCBjb25zdCBwcmV2aWV3SW1hZ2VDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2Nsb3NlLXByZXZpZXctYnV0dG9uXCJcbik7XG5cbi8vIG90aGVyIERPTSBub2Rlc1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIlxuKTtcbmV4cG9ydCBjb25zdCBwcmV2aWV3SW1hZ2VDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJldmlldy1pbWFnZS1jYXB0aW9uXCJcbik7XG5leHBvcnQgY29uc3QgcHJldmlld0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1wcmV2aWV3LWltYWdlXCIpO1xuXG4vLyBGb3JtIGRhdGFcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcbik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZFRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGl0bGUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZExpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1saW5rLWlucHV0XCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZFNlbGVjdG9yID0gXCIjY2FyZC10ZW1wbGF0ZVwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSB8fFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoeyBzZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIC8vIENyZWF0ZSBhbiBlbXB0eSBvYmplY3RcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgLy8gQWRkIHRoZSB2YWx1ZXMgb2YgdGhlIGZpZWxkcyB0byB0aGlzIG9iamVjdFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIC8vIFJldHVybiB0aGUgdmFsdWVzIG9iamVjdFxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyBhZGQgc3VibWl0IGV2ZW50IGhhbmRsZXIgdG8gdGhlIGZvcm1cbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7IC8vIGFkZCBpbXBvcnQgb2YgdGhlIG1haW4gc3R5bGVzaGVldHMgZmlsZVxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHtcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBpbml0aWFsQ2FyZHMsXG4gIGVkaXRQcm9maWxlRm9ybSxcbiAgYWRkQ2FyZEZvcm0sXG4gIGNhcmRMaXN0RWxlbWVudCxcbiAgZWRpdFByb2ZpbGVNb2RhbCxcbiAgYWRkQ2FyZE1vZGFsLFxuICBwcmV2aWV3SW1hZ2VNb2RhbCxcbiAgZWRpdFByb2ZpbGVCdXR0b24sXG4gIGFkZENhcmRCdXR0b24sXG4gIHByb2ZpbGVOYW1lLFxuICBwcm9maWxlRGVzY3JpcHRpb24sXG4gIGNhcmRTZWxlY3RvcixcbiAgYXBpSW5mbyxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG4vLyBJbml0aWFsIHN0YXJ0LXVwXG5jb25zdCB7IGFwaVRva2VuLCBhcGlVcmwgfSA9IGFwaUluZm87XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBhcGlVcmwsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBhcGlUb2tlbixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5jb25zdCBoYW5kbGVEZWxldGVDbGljayA9IChjYXJkKSA9PiB7XG4gIGNvbmZpcm1hdGlvbk1vZGFsLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgY29uZmlybWF0aW9uTW9kYWwuc2V0QnV0dG9uVGV4dCh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2NhcmRJZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgIGNvbmZpcm1hdGlvbk1vZGFsLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IGNvbmZpcm1hdGlvbk1vZGFsLnNldEJ1dHRvblRleHQoZmFsc2UpKTtcbiAgfSk7XG4gIGNvbmZpcm1hdGlvbk1vZGFsLm9wZW4oKTtcbn07XG5cbmNvbnN0IGhhbmRsZUxpa2VDbGljayA9IChjYXJkKSA9PiB7XG4gIGlmIChjYXJkLl9pc0xpa2VkKSB7XG4gICAgYXBpXG4gICAgICAucmVtb3ZlQ2FyZExpa2UoY2FyZC5fY2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLnNldExpa2VzKGZhbHNlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5hZGRDYXJkTGlrZShjYXJkLl9jYXJkSWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuc2V0TGlrZXModHJ1ZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH1cbn07XG5cbi8vIGFwaVxuLy8gICAuZ2V0SW5pdGlhbENhcmRzKClcbi8vICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuLy8gICAgIC8vIHByb2Nlc3MgdGhlIHJlc3VsdFxuLy8gICB9KVxuLy8gICAuY2F0Y2goKGVycikgPT4ge1xuLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbi8vICAgfSk7XG5cbmNvbnN0IGNhcmRzID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICAgIGNhcmRzLmFkZEl0ZW0ocmVuZGVyQ2FyZChjYXJkRGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNvbnRlbnRfX2xpc3RcIlxuKTtcblxuY2FyZHMucmVuZGVySXRlbXMoKTtcblxuLy8gVmFsaWRhdGlvblxuXG5jb25zdCBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxuICBlZGl0UHJvZmlsZUZvcm1cbik7XG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xuZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0QnV0dG9uU3RhdGUoKTtcblxuLy8gUG9wdXAgc2V0dXBcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIHByb2ZpbGVEZXNjcmlwdGlvbik7XG5cbmNvbnN0IGVkaXRQcm9maWxlRm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIGVkaXRQcm9maWxlTW9kYWwsXG4gIChpbnB1dFZhbHVlcykgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzLm5hbWUsIGlucHV0VmFsdWVzLmRlc2NyaXB0aW9uKTtcbiAgfVxuKTtcblxuY29uc3QgYWRkQ2FyZEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKGFkZENhcmRNb2RhbCwgKGlucHV0VmFsdWVzKSA9PiB7XG4gIGNvbnN0IHRpdGxlID0gaW5wdXRWYWx1ZXMudGl0bGU7XG4gIGNvbnN0IGxpbmsgPSBpbnB1dFZhbHVlcy5saW5rO1xuICBjYXJkcy5hZGRJdGVtKHJlbmRlckNhcmQoeyB0aXRsZSwgbGluayB9KSk7XG59KTtcblxuY29uc3QgcHJldmlld0ltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocHJldmlld0ltYWdlTW9kYWwpO1xuXG4vLyBFdmVudCBIYW5kbGVyc1xuXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbigpIHtcbiAgZWRpdFByb2ZpbGVGb3JtUG9wdXAub3BlbigpO1xuICBlZGl0UHJvZmlsZUZvcm1Qb3B1cC5zZXRJbnB1dFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKTtcbiAgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmhpZGVNb2RhbElucHV0RXJyb3IoKTtcbiAgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0QnV0dG9uU3RhdGUoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEJ1dHRvbigpIHtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRCdXR0b25TdGF0ZSgpO1xuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5oaWRlTW9kYWxJbnB1dEVycm9yKCk7XG4gIGFkZENhcmRGb3JtUG9wdXAub3BlbigpO1xufVxuXG4vLyBFdmVudCBMaXN0ZW5lcnNcblxuZWRpdFByb2ZpbGVGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0UHJvZmlsZUJ1dHRvbik7XG5hZGRDYXJkRm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVBZGRDYXJkQnV0dG9uKTtcbnByZXZpZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIEZ1bmN0aW9uc1xuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmREYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgY2FyZFNlbGVjdG9yLCAoKSA9PiB7XG4gICAgcHJldmlld0ltYWdlUG9wdXAub3BlbihjYXJkRGF0YSk7XG4gIH0pO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlUHJvZmlsZUluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogZGVzY3JpcHRpb24sXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBwb3N0Q2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3NlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIC8vIGFkZHMgdG8gdGhlIERPTVxuICAgIHRoaXMuX3NlbGVjdG9yLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZSwgZGVzY3JpcHRpb24sIGF2YXRhcikge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gbmFtZTtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQgPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gYXZhdGFyO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgLy8gcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBpbmZvIG9uIHRoZSB1c2VyXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8obmFtZSwgZGVzY3JpcHRpb24pIHtcbiAgICAvLyB0YWtlcyBuZXcgdXNlciBpbmZvIGFuZCBhZGRzIGl0IHRvIHRoZSBwYWdlXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xuICB9XG5cbiAgc2V0QXZhdGFyKGF2YXRhcikge1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX3ByZXZpZXctaW1hZ2VcIlxuICAgICk7XG4gICAgdGhpcy5fcHJldmlld0NhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5hbHQgPSBkYXRhLnRpdGxlO1xuICAgIHRoaXMuX3ByZXZpZXdDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJuYW1lIiwibGluayIsInVzZXJJZCIsIl9pZCIsIm93bmVySWQiLCJpc0xpa2VkIiwiaGFuZGxlSW1hZ2VCdXR0b24iLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQnV0dG9uIiwiY2FyZFNlbGVjdG9yIiwidGhpcyIsIl90aXRsZSIsIl9saW5rIiwiX3VzZXJJZCIsIl9jYXJkSWQiLCJfb3duZXJJZCIsIl9pc0xpa2VkIiwiX2hhbmRsZUltYWdlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2NhcmRTZWxlY3RvciIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkTGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2FyZEltYWdlIiwiX25hbWUiLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX3JlbmRlckxpa2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiX2dldENhcmRUZW1wbGF0ZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImdldFZpZXciLCJfY2FyZEltYWdlRWxlbWVudCIsIl9jYXJkVGl0bGVFbGVtZW50IiwiX2NhcmREZWxldGVCdXR0b24iLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfaW5wdXRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiX2Vycm9yTWVzc2FnZUVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiZXZlcnkiLCJoaWRlTW9kYWxJbnB1dEVycm9yIiwiZm9yRWFjaCIsIl9kaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfZW5hYmxlQnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwicmVzZXRCdXR0b25TdGF0ZSIsImUiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJlZGl0UHJvZmlsZUZvcm0iLCJhZGRDYXJkRm9ybSIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiUG9wdXAiLCJzZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfcG9wdXBDbG9zZUJ1dHRvbiIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaW5wdXRMaXN0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJyZXNldCIsInNldElucHV0VmFsdWVzIiwiZGF0YSIsImlucHV0IiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZm9ybVZhbHVlcyIsImFwaVRva2VuIiwiYXBpVXJsIiwiY2FyZHMiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsInRoZW4iLCJ1cGRhdGVQcm9maWxlSW5mbyIsIl9yZWYyIiwiZGVzY3JpcHRpb24iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiZ2V0SW5pdGlhbENhcmRzIiwicG9zdENhcmQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX3NlbGVjdG9yIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY3JlYXRlZEF0Iiwib3duZXIiLCJjYXJkRGF0YSIsInJlbmRlckNhcmQiLCJlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsInVzZXJJbmZvIiwiX25hbWVFbGVtZW50IiwiX2Rlc2NyaXB0aW9uRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50Iiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJlZGl0UHJvZmlsZUZvcm1Qb3B1cCIsImlucHV0VmFsdWVzIiwiYWRkQ2FyZEZvcm1Qb3B1cCIsInRpdGxlIiwicHJldmlld0ltYWdlUG9wdXAiLCJfcHJldmlld0ltYWdlIiwiX3ByZXZpZXdDYXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==